{"version":3,"sources":["../../../dist/index.js","../../../dist/Image/index.js","../../../dist/Seo/index.js","query.js","App.js","index.js"],"names":["__export","m","p","exports","hasOwnProperty","Object","defineProperty","value","_slicedToArray","__importStar","this","mod","__esModule","result","k","call","react_1","react_intersection_observer_1","Image","_ref","className","fadeInDuration","intersectionTreshold","intersectionMargin","_ref$data","data","base64","width","aspectRatio","srcSet","sizes","alt","title","src","_react_1$useState","useState","_react_1$useState2","loaded","setLoaded","handleLoad","useCallback","_react_intersection_o","useInView","threshold","rootMargin","_react_intersection_o2","ref","inView","default","createElement","style","position","overflow","display","maxWidth","concat","paddingTop","backgroundImage","backgroundSize","left","top","opacity","transition","onLoad","__importDefault","renderMetaTags","map","Tag","tag","attributes","content","key","push","property","name","assign","join","serializeAttributes","entries","_ref2","_ref3","renderMetaTagsToString","_ref4","RESPONSIVE_IMAGE_FRAGMENT","query","App","useQuery","variables","first","loading","error","metaTags","page","seo","site","favicon","Helmet","blogPosts","blogPost","id","coverImage","responsiveImage","href","slug","target","rel","dangerouslySetInnerHTML","__html","excerpt","author","avatar","client","GraphQLClient","url","headers","Authorization","ReactDOM","render","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.dece1480.chunk.js","sourcesContent":["\"use strict\";\n\nfunction __export(m) {\n  for (var p in m) {\n    if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n  }\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n__export(require(\"./Image\"));\n\n__export(require(\"./Seo\"));","\"use strict\";\n\nvar _slicedToArray = require(\"/Users/steffoz/code/dato/react-datocms/examples/basic/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result[\"default\"] = mod;\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar react_intersection_observer_1 = require(\"react-intersection-observer\");\n\nexports.Image = function (_ref) {\n  var className = _ref.className,\n      fadeInDuration = _ref.fadeInDuration,\n      intersectionTreshold = _ref.intersectionTreshold,\n      intersectionMargin = _ref.intersectionMargin,\n      _ref$data = _ref.data,\n      base64 = _ref$data.base64,\n      width = _ref$data.width,\n      aspectRatio = _ref$data.aspectRatio,\n      srcSet = _ref$data.srcSet,\n      sizes = _ref$data.sizes,\n      alt = _ref$data.alt,\n      title = _ref$data.title,\n      src = _ref$data.src;\n\n  var _react_1$useState = react_1.useState(false),\n      _react_1$useState2 = _slicedToArray(_react_1$useState, 2),\n      loaded = _react_1$useState2[0],\n      setLoaded = _react_1$useState2[1];\n\n  var handleLoad = react_1.useCallback(function () {\n    setLoaded(true);\n  }, []);\n\n  var _react_intersection_o = react_intersection_observer_1.useInView({\n    threshold: intersectionTreshold || 0,\n    rootMargin: intersectionMargin || \"0px 0px 0px 0px\"\n  }),\n      _react_intersection_o2 = _slicedToArray(_react_intersection_o, 3),\n      ref = _react_intersection_o2[0],\n      inView = _react_intersection_o2[1],\n      _entry = _react_intersection_o2[2];\n\n  return react_1.default.createElement(\"div\", {\n    ref: ref,\n    className: className,\n    style: {\n      position: \"relative\",\n      overflow: \"hidden\",\n      display: \"block\",\n      maxWidth: \"\".concat(width, \"px\")\n    }\n  }, react_1.default.createElement(\"div\", {\n    style: {\n      paddingTop: \"\".concat(100.0 / aspectRatio, \"%\"),\n      backgroundImage: base64 ? \"url(\".concat(base64, \")\") : null,\n      backgroundSize: \"cover\"\n    }\n  }), (inView || loaded) && react_1.default.createElement(\"img\", {\n    style: {\n      position: \"absolute\",\n      left: 0,\n      top: 0,\n      width: \"100%\",\n      opacity: loaded ? 1 : 0,\n      transition: !fadeInDuration || fadeInDuration > 0 ? \"opacity \".concat(fadeInDuration || 500, \"ms\") : null\n    },\n    srcSet: srcSet,\n    sizes: sizes,\n    src: src,\n    alt: alt,\n    title: title,\n    onLoad: handleLoad\n  }));\n};","\"use strict\";\n\nvar _slicedToArray = require(\"/Users/steffoz/code/dato/react-datocms/examples/basic/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importDefault(require(\"react\"));\n\nexports.renderMetaTags = function (data) {\n  return data.map(function (_ref) {\n    var Tag = _ref.tag,\n        attributes = _ref.attributes,\n        content = _ref.content;\n    var key = [Tag];\n\n    if (attributes && \"property\" in attributes) {\n      key.push(attributes.property);\n    }\n\n    if (attributes && \"name\" in attributes) {\n      key.push(attributes.name);\n    }\n\n    return react_1.default.createElement(Tag, Object.assign({\n      key: key.join(\"-\")\n    }, attributes), content);\n  });\n};\n\nvar serializeAttributes = function serializeAttributes(attributes) {\n  if (!attributes) {\n    return \"\";\n  }\n\n  return \" \" + Object.entries(attributes).map(function (_ref2) {\n    var _ref3 = _slicedToArray(_ref2, 2),\n        key = _ref3[0],\n        value = _ref3[1];\n\n    return \"\".concat(key, \"=\\\"\").concat(value, \"\\\"\");\n  }).join(\" \");\n};\n\nexports.renderMetaTagsToString = function (data) {\n  return data.map(function (_ref4) {\n    var tag = _ref4.tag,\n        attributes = _ref4.attributes,\n        content = _ref4.content;\n\n    if (content) {\n      return \"<\".concat(tag).concat(serializeAttributes(attributes), \">\").concat(content, \"</\").concat(tag, \">\");\n    }\n\n    return \"<\".concat(tag).concat(serializeAttributes(attributes), \" />\");\n  }).join(\"\\n\");\n};","const RESPONSIVE_IMAGE_FRAGMENT = `\n  aspectRatio\n  base64\n  height\n  sizes\n  src\n  srcSet\n  width\n  alt\n  title\n`;\n\nconst META_TAGS_FRAGMENT = `\n  attributes\n  content\n  tag\n`;\n\nexport const query = `\n  query AppQuery($first: IntType) {\n    page: blog {\n      seo: _seoMetaTags {\n        ${META_TAGS_FRAGMENT}\n      }\n    }\n\n    site: _site {\n      favicon: faviconMetaTags {\n        ${META_TAGS_FRAGMENT}\n      }\n    }\n\n    blogPosts: allBlogPosts(first: $first, orderBy: publicationDate_DESC) {\n      id\n      title\n      slug\n      excerpt(markdown: true)\n      coverImage {\n        responsiveImage(imgixParams: { fit: crop, ar: \"16:9\", w: 750 }) {\n          ${RESPONSIVE_IMAGE_FRAGMENT}\n        }\n      }\n      author {\n        name\n        avatar {\n          responsiveImage(imgixParams: { fit: crop, ar: \"1:1\", w: 40 }) {\n            ${RESPONSIVE_IMAGE_FRAGMENT}\n          }\n        }\n      }\n    }\n  }\n`;","import React from \"react\";\nimport \"./App.css\";\nimport { useQuery } from \"graphql-hooks\";\nimport { Helmet } from \"react-helmet\";\nimport { Image, renderMetaTags, renderMetaTagsToString } from \"react-datocms\";\nimport { query } from \"./query\";\n\nconst App = () => {\n  const { loading, error, data } = useQuery(\n    query,\n    { variables: { first: 10 } }\n  );\n\n  if (loading) return <div>Loading...</div>;\n  if (error) return <div>Something bad happened</div>;\n\n  const metaTags = data.page.seo.concat(data.site.favicon);\n\n  return (\n    <div>\n      <Helmet>{renderMetaTags(metaTags)}</Helmet>\n      <pre className=\"seo-inspect\">\n        Look at all these juicy meta tags! ↴\n        <br/><br/>\n        {renderMetaTagsToString(metaTags)}\n      </pre>\n      <div className=\"app\">\n        <div className=\"app-title\">DatoCMS Blog</div>\n        <div className=\"app-subtitle\">\n          News, tips, highlights, and other updates from the team at DatoCMS.\n        </div>\n        {data.blogPosts.map(blogPost => (\n          <article key={blogPost.id} className=\"blogPost\">\n            <Image\n              className=\"blogPost-image\"\n              fadeInDuration={1000}\n              data={blogPost.coverImage.responsiveImage}\n            />\n            <h6 className=\"blogPost-title\">\n              <a\n                href={`https://www.datocms.com/blog/${blogPost.slug}`}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                {blogPost.title}\n              </a>\n            </h6>\n            <div\n              className=\"blogPost-excerpt\"\n              dangerouslySetInnerHTML={{ __html: blogPost.excerpt }}\n            />\n            <footer className=\"blogPost-author\">\n              <Image\n                className=\"blogPost-author-image\"\n                data={blogPost.author.avatar.responsiveImage}\n              />\n              Written by {blogPost.author.name}\n            </footer>\n          </article>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { GraphQLClient, ClientContext } from \"graphql-hooks\";\n\nconst client = new GraphQLClient({\n  url: \"https://graphql-staging.datocms.com/\",\n  headers: {\n    Authorization: \"Bearer faeb9172e232a75339242faafb9e56de8c8f13b735f7090964\"\n  }\n});\n\nReactDOM.render(\n  <ClientContext.Provider value={client}>\n    <App />\n  </ClientContext.Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}